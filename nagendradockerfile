FROM node:lts-trixie AS build 
ADD . /codefiles
WORKDIR /codefiles
RUN npm install && \
    npm run build

FROM nginx:mainline-trixie-perl AS runtime
LABEL project=nodejsproject
LABEL author=nagendra
COPY --from=build /codefiles /nagendra
RUN mv /nagendra  /usr/share/nginx/html
EXPOSE 80